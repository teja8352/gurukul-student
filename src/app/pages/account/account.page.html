<ion-content fullscreen color="white">
  <ion-header [translucent]="true" class="ion-no-border">
    <ion-toolbar color="white">
      <ion-buttons slot="start">
        <ion-back-button icon="chevron-back-outline" defaultHref="dashboard"></ion-back-button>
      </ion-buttons>
      <ion-title>
        Account
      </ion-title>
    </ion-toolbar>
  </ion-header>
  <form [formGroup]="studentForm" (ngSubmit)="update()" class="ion-padding">
    <ion-row class="ion-justify-content-center">
      <ion-col size="6">
        <div class="rounded-circle logo">
          <!-- <ion-img class="w-100 h-100" src="../../../assets/student.png"></ion-img> -->
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-item color="light" class="ion-margin-bottom" lines="none" disabled>
          <ion-label position="floating" color="medium">Email</ion-label>
          <ion-input color="dark" type="email" placeholder="Email" formControlName="email" readonly>
          </ion-input>
          <ion-note slot="error" *ngIf="(email.dirty || email.touched) && email.errors">
            Email is invalid
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">First Name</ion-label>
          <ion-input color="dark" type="text" placeholder="FirstName" formControlName="first_name"></ion-input>
          <ion-note slot="error" *ngIf="(first_name.dirty || first_name.touched) && first_name.errors">
            First Name needs to be 5 characters
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">Last Name</ion-label>
          <ion-input color="dark" type="text" placeholder="Last Name" formControlName="last_name"></ion-input>
          <ion-note slot="error" *ngIf="(last_name.dirty || last_name.touched) && last_name.errors">
            Last Name needs to be 5 characters
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="12">

        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">Phone Number</ion-label>
          <ion-input color="dark" type="tel" placeholder="Phone Number" formControlName="mobile"></ion-input>
          <ion-note slot="error" *ngIf="(mobile.dirty || mobile.touched) && mobile.errors">
            Phone Number needs to be 10 digits.
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="12">
        <ion-item color="light" id="start-date" class="ion-margin-bottom" lines="none">
          <ion-label color="medium">Date of Birth</ion-label>
          <ion-text slot="end">{{ studentForm.value.dob | date: 'dd MMM YYYY' }}</ion-text>
          <ion-popover trigger="start-date" show-backdrop="false">
            <ng-template>
              <ion-datetime #startDateTime presentation="date" formControlName="dob" placeholder="select Date of Birth">
                <div slot="title">Select Date of Birth</div>
              </ion-datetime>
            </ng-template>
          </ion-popover>
          <ion-note slot="error" *ngIf="(dob.dirty || dob.touched) && dob.errors">
            please enter date of birth
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="12">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label color="medium">Course Type</ion-label>
          <ion-select placeholder="Select course type" color="medium" interface="action-sheet"
            [interfaceOptions]="customActionSheetOptions" formControlName="course_type"
            [value]="studentForm.value.course_type">
            <!-- ca-foundation, ca-inter, ca-final, cma-foundation, cma-final, cma-inter -->
            <ion-select-option value="CA foundation">CA Foundation</ion-select-option>
            <ion-select-option value="CA Inter">CA Inter</ion-select-option>
            <ion-select-option value="CA Final">CA Final</ion-select-option>
            <ion-select-option value="CMA Foundation">CMA Foundation</ion-select-option>
            <ion-select-option value="CMA Final">CMA Final</ion-select-option>
            <ion-select-option value="CMA Inter">CMA Inter</ion-select-option>
          </ion-select>
          <ion-icon slot="end" color="dark" name="chevron-down-outline"></ion-icon>
          <ion-note slot="error" *ngIf="(course_type.dirty || course_type.touched) && course_type.errors">
            Please select course type.
          </ion-note>
        </ion-item>
      </ion-col>

    </ion-row>

    <ion-row formGroupName="location">
      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">Address</ion-label>
          <ion-input color="dark" placeholder="Address" formControlName="address"></ion-input>
          <ion-note slot="error" *ngIf="(address.dirty || address.touched) && address.errors">
            Address is required
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">Pincode</ion-label>
          <ion-input color="dark" type="tel" placeholder="Pincode" formControlName="pincode"></ion-input>
          <ion-note slot="error" *ngIf="(pincode.dirty || pincode.touched) && pincode.errors">
            Please enter Pincode.
          </ion-note>
        </ion-item>
      </ion-col>
      <ion-col size="6">

        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">City</ion-label>
          <ion-input color="dark" type="text" placeholder="City" formControlName="city"></ion-input>
          <ion-note slot="error" *ngIf="(city.dirty || city.touched) && city.errors">
            Please enter City.
          </ion-note>
        </ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">State</ion-label>
          <ion-input color="dark" type="text" placeholder="State" formControlName="state"></ion-input>
          <ion-note slot="error" *ngIf="(state.dirty || state.touched) && state.errors">
            Please enter State.
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="6">
        <ion-item color="light" class="ion-margin-bottom" lines="none">
          <ion-label position="floating" color="medium">Country</ion-label>
          <ion-input color="dark" type="text" readonly placeholder="Country" formControlName="country"></ion-input>
          <ion-note slot="error" *ngIf="(country.dirty || country.touched) && country.errors">
            Please enter Country.
          </ion-note>
        </ion-item>
      </ion-col>

      <ion-col size="12">
        <ion-button block color="primary" type="submit" expand="block" class="shadow" [disabled]="studentForm.invalid">
          Update
        </ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>